# IBM FHIR Server - fhir-persistence-jdbc performance tests
Performance tests for derby embedded, derby network, db2 and postgresql.
fhir-persistence-jdbc/src/test/java/com/ibm/fhir/persistence/jdbc/test/spec/Main.java

# Run Configurations

## Performance test for derby embedded

```
--derby
--index PERFORMANCE_JSON
--validate
--threads 4
--read-iterations 2
```

## Performance test for derby network

```
--prop-file ./src/test/resources/test.jdbc-perform.properties
--derbynetwork
--index PERFORMANCE_JSON
--validate
--threads 4
--read-iterations 2
--schema-name APP
```

## Performance test for db2
Don't forget to set the tenant-name and tenant-key secret generated by --allocate-tenant of the fhir-persistence-schema management application.

```
--prop-file ./src/test/resources/test.jdbc-perform.properties
--validate
--index PERFORMANCE_JSON
--threads 4
--read-iterations 2
--tenant-name perform
--tenant-key GQUHRi0ETFw0Xe+p1VtVDki4JFZs885bGM35hXRyq/E=
--schema-name FHIRDATA
```

## Performance test for postgresql

```
--prop-file ./src/test/resources/test.jdbc-perform.properties
--postgresql
--index PERFORMANCE_JSON
--validate
--threads 4
--read-iterations 1
--schema-name fhirdata
```

FHIRÂ® is the registered trademark of HL7 and is used with the permission of HL7.